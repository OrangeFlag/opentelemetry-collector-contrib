name: nsxreceiver

resource_attributes:
  nsx.node.name:
    description: The name of the NSX Node.
    type: string
  nsx.node.id:
    description: The ID of the NSX Node.
    type: string
  nsx.node.type:
    description: The type of NSX Node.
    type: string
    enum:
      - manager
      - host
      - edge
  nsx.interface.id:
    description: The name of the network interface.
    type: string

attributes:
  direction:
    value: direction
    description: The direction of network flow
    enum:
      - received
      - transmitted
  disk:
    value: disk
    description: The name of the mounted storage
  packet.type:
    value: type
    description: The type of packet counter
    enum:
      - dropped
      - errored
      - success
  cpu.process.class:
    description: The CPU usage of the architecture allocated for either DPDK (datapath) or non-DPDK (services) processes
    enum:
      - datapath
      - services
  load_balancer:
    description: The name of the load balancer being utilized

metrics:
  nsx.interface.throughput:
    description: The number of Bytes flowing through the network interface.
    unit: "By"
    sum:
      monotonic: true
      aggregation: cumulative
      value_type: int
    enabled: true
    attributes: [direction]
  nsx.interface.packet.count:
    description: The number of packets flowing through the network interface on the node.
    unit: "{packets}"
    sum:
      monotonic: true
      aggregation: cumulative
      value_type: int
    enabled: true
    attributes: [direction, packet.type]
  nsx.node.cpu.utilization:
    description: The average amount of CPU being used by the node.
    unit: "%"
    gauge:
      value_type: double
    enabled: true
    attributes: [cpu.process.class]
  nsx.node.disk.utilization:
    description: The percentage of storage space utilized.
    unit: "%"
    gauge:
      value_type: double
    enabled: true
    attributes: [disk]
  nsx.node.disk.usage:
    description: The amount of storage space used by the node.
    unit: By
    sum:
      monotonic: false
      value_type: int
      aggregation: cumulative
    enabled: true
    attributes: [disk]
  nsx.node.load_balancer.utilization:
    description: The utilization of load balancers by the node
    unit: "%"
    gauge:
      value_type: double
    enabled: true
    attributes: [load_balancer]
  nsx.node.memory.usage:
    description: The memory usage of the node
    unit: KBy
    sum:
      monotonic: false
      value_type: int
      aggregation: cumulative
    enabled: true
  nsx.node.cache.memory.usage:
    description: The memory usage of the node's cache
    unit: KBy
    sum:
      monotonic: false
      value_type: int
      aggregation: cumulative
    enabled: true
