name: stubreceiver

labels:
  workers_state:
    value: state
    description: The state workers
    enum:
      - busy
      - idle
  scoreboard_state:
    value: state
    description: The state of a connection
    enum:
      - open
      - waiting
      - starting
      - reading
      - sending
      - keepalive
      - dnslookup
      - closing
      - logging
      - finishing
      - idle_cleanup
    
metrics:
  stub.uptime:
    description: The amount of time that the server has been running in seconds
    unit: /s
    data:
      type: int sum
      monotonic: true
      aggregation: cumulative
    labels: []
  stub.current_connections:
    description: The number of active connections currently attached to the HTTP server
    unit: connections
    data:
      type: int gauge
    labels: []
  stub.workers:
    description: The number of workers currently attached to the HTTP server
    unit: connections
    data:
      type: int gauge
    labels: [workers_state]
  stub.requests:
    description: The number of requests serviced by the HTTP server per second
    unit: /s
    data:
      type: double gauge
    labels: []
  stub.bytes:
    description: The number of bytes transferred by the HTTP server per second
    unit: By
    data:
      type: double gauge
    labels: []
  stub.traffic:
    description: Total HTTP server traffic
    unit: connections
    data:
      type: int sum
      monotonic: true
      aggregation: cumulative
    labels: []
  stub.scoreboard:
    description: Apache HTTP server scoreboard values
    unit: scoreboard
    data:
      type: int gauge
    labels: [scoreboard_state]
